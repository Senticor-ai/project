apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../base
  - configmap.yaml

images:
  - name: project-backend
    newName: registry.onstackit.cloud/senticor/project/backend
    newTag: "9c6721d49dbf4668d923963a5abf909dc5e3809e"
  - name: project-frontend
    newName: registry.onstackit.cloud/senticor/project/frontend
    newTag: "9c6721d49dbf4668d923963a5abf909dc5e3809e"
  - name: project-storybook
    newName: registry.onstackit.cloud/senticor/project/storybook
    newTag: "9c6721d49dbf4668d923963a5abf909dc5e3809e"
  - name: project-agents
    newName: registry.onstackit.cloud/senticor/project/agents
    newTag: "9c6721d49dbf4668d923963a5abf909dc5e3809e"

patches:
  - path: patches/backend.yaml
  - path: patches/worker.yaml
  - path: patches/push-worker.yaml
  - path: patches/watch-worker.yaml
  - path: patches/agents.yaml
  - path: patches/frontend.yaml
  - path: patches/storybook.yaml
  - path: patches/postgres.yaml
  - path: patches/backend-pubsub.yaml
  - path: patches/worker-pubsub.yaml
  - path: patches/watch-worker-pubsub.yaml
