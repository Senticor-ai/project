apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../base
  - configmap.yaml

images:
  - name: project-backend
    newName: registry.onstackit.cloud/senticor/project/backend
    newTag: "ed944ac9ab1f79e22be2b3ef8a3ce1c936d2b588"
  - name: project-frontend
    newName: registry.onstackit.cloud/senticor/project/frontend
    newTag: "ed944ac9ab1f79e22be2b3ef8a3ce1c936d2b588"
  - name: project-storybook
    newName: registry.onstackit.cloud/senticor/project/storybook
    newTag: "ed944ac9ab1f79e22be2b3ef8a3ce1c936d2b588"
  - name: project-agents
    newName: registry.onstackit.cloud/senticor/project/agents
    newTag: "ed944ac9ab1f79e22be2b3ef8a3ce1c936d2b588"

patches:
  - path: patches/backend.yaml
  - path: patches/worker.yaml
  - path: patches/push-worker.yaml
  - path: patches/watch-worker.yaml
  - path: patches/agents.yaml
  - path: patches/frontend.yaml
  - path: patches/storybook.yaml
  - path: patches/postgres.yaml
  - path: patches/backend-pubsub.yaml
  - path: patches/worker-pubsub.yaml
  - path: patches/watch-worker-pubsub.yaml
