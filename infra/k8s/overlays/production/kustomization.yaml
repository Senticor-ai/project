apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../base
  - configmap.yaml

images:
  - name: project-backend
    newName: registry.onstackit.cloud/senticor/project/backend
    newTag: "eb6d3c918b3251b27a6fed1ebb9c2dad8f4f2f0e"
  - name: project-frontend
    newName: registry.onstackit.cloud/senticor/project/frontend
    newTag: "eb6d3c918b3251b27a6fed1ebb9c2dad8f4f2f0e"
  - name: project-storybook
    newName: registry.onstackit.cloud/senticor/project/storybook
    newTag: "eb6d3c918b3251b27a6fed1ebb9c2dad8f4f2f0e"
  - name: project-agents
    newName: registry.onstackit.cloud/senticor/project/agents
    newTag: "eb6d3c918b3251b27a6fed1ebb9c2dad8f4f2f0e"

patches:
  - path: patches/backend.yaml
  - path: patches/worker.yaml
  - path: patches/push-worker.yaml
  - path: patches/watch-worker.yaml
  - path: patches/agents.yaml
  - path: patches/frontend.yaml
  - path: patches/storybook.yaml
  - path: patches/postgres.yaml
  - path: patches/backend-pubsub.yaml
  - path: patches/worker-pubsub.yaml
  - path: patches/watch-worker-pubsub.yaml
