[
  {
    "id": "triage.inbox.targets",
    "description": "Inbox items can only triage into actionable buckets.",
    "when": "operation == 'triage' && source.bucket == 'inbox'",
    "expression": "target.bucket in ['next','waiting','someday','calendar','reference']"
  },
  {
    "id": "item.completed.immutable",
    "description": "Completed items are immutable.",
    "when": "source.bucket == 'completed'",
    "expression": "operation == 'read'"
  },
  {
    "id": "item.bucket.enum",
    "description": "Bucket must be one of the known values.",
    "when": "operation == 'triage' || (operation == 'create' && bucket != '')",
    "expression": "bucket in ['inbox','next','waiting','someday','calendar','reference','project','completed']"
  }
]
